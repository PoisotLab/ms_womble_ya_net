{
  "hash": "237ad2d9bae0e1b785082dbac1295a56",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: Omnomnomnivores\nauthor:\n  - name: Tanya Strydom\n    orcid: 0000-0001-6067-1349\n    corresponding: false\n    email: t.strydom@sheffield.ac.uk\n    roles:\n      - Investigation\n      - Software\n      - Visualization\n    affiliations:\n      - Uum??\n  - name: Timothée Poisot\n    orcid: 0000-0002-0735-5184\n    corresponding: true\n    email: timothee.poisot@umontreal.ca\n    roles: []\n    affiliations:\n      - Université de Montreal\n      - Québec Centre for Biodiversity Sciences\nkeywords:\n  - wombling\n  - spatial networks\nabstract: |\n  TODO\ndate: last-modified\nbibliography: references.bib\ncitation:\n  container-title: Earth and Space Science\nnumber-sections: true\n---\n\n:::{#455a7dd9 .cell .markdown}\n## Introduction\n\n\n## Data & Methods {#sec-data-methods}\n\n### Metacommunity model\n\nThe model used broadly follows the metacommunity model developed by @thompsonDispersalGovernsReorganization2017. The model (@eq-metacomm) itself is based on a tritrophic community ('plants', 'herbivores', and 'carnivores'), and is essentially a collection of modified Lotka–Volterra equations, this (broadly) models species abundance as a function of interaction strength, environmental effect, immigration, and emigration. The metacommunity consists of $S$ species with $M$ environmental patches in the landscape and looks as follows:\n\n$$\nX_{ij}(t+1)=X_{ij}(t)exp\\left[C_{i} + \\sum_{k=1}^{S}B_{ik}X_{kj}(t)+A_{ij}(t)\\right]+I_{ij}(t)-X_{ij}(t)a_{i}\n$$ {#eq-metacomm}\n\nWhere $X_{ij}(t)$ is the abundance of species $i$ in patch $j$ at time $t$. $C_i$ is its intrinsic rate of increase (which we have set to 0.1 for 'plants' and -0.001 for 'herbivores' and 'carnivores'). $B_{ik}$ is the per capita effect of species $k$ on species $i$. The exact interaction strength for each species pair is determined by the trophic level of each species and is drawn from a uniform distribution. The ranges for each combination of species pairs listed in @tbl-interaction_strength, the values that are drawn from the uniform distribution are then scaled by dividing by $0.33S$ to yield the final interaction strength for each interacting pair.\n\n\n| Interacting pair    | Range of uniform distribution|\n|---------------------|:----------------------------:|\n| Plant-plant         | -1.0 -- 0.00                 |\n| Plant-herbivore     | 0.0 -- 0.10                  |\n| Plant-carnivore     | 0.0                          |\n| Herbivore-plant     | -0.3 -- 0.00                 |\n| Herbivore-herbivore | -0.2 -- -0.15                |\n| Herbivore-carnivore | 0.0 -- 0.08                  |\n| Carnivore-plant     | 0.0                          |\n| Carnivore-herbivore | -0.1 -- 0.00                 |\n| Carnivore-carnivore | -0.1 -- 0.00                 |\n\n: Intervals used for the uniform distribution from which interaction strengths values are drawn from for the different types of species pair interactions. Note this is represent the effect of species type 1 on species type 2 *i.e.,* herbivore-plant represents the effect of a herbivore species on a plant species {#tbl-interaction_strength}\n\n$A_{ij}(t)$ is the effect of the environment in patch $j$ on species $i$ at time $t$. Essentially this will set the effect of the environment to zero when it is at the optimum of the species and can be further expanded as follows:  \n\n$$\nA_{ij}(t)=\\left(h\\times\\frac{1}{\\sigma\\sqrt{2\\pi}}\\right)\\times\\left(\\text{exp}\\left[-\\frac{(E_{j}(t)-H_{i})^2}{{2\\sigma}^2}\\right]-1\\right)\n$$ {#eq-metacomm_env}\n\nWhere the species environmental optima ($H_i$) are evenly distributed across the entire range of environmental conditions for each trophic level, meaning that species from different trophic levels will be at, or near the same environmental optima. $h$ is a scaling parameter (set to **50**), $E_j(t)$ is the environment in patch $j$ at time $t$ and $\\sigma$ is the standard deviation (set to **50**).\n\n$I_{ij}(t)$ is the abundance of species $i$ immigrating to patch $j$ at time $t$ and can be expanded as follows:\n\n$$\nI_{ij}(t)=\\sum_{l=j}^{M}a_iX_{il}(t)exp(-Ld_{jl})\n$$ {#eq-metacomm_imm}\n\nWhere $ai$ is the proportion of the population of species $i$ that disperses at each time step, the dispersal rate is drawn from a normal distribution ($\\mu$ = 0.1, $\\sigma$ = 0.025) for each species. The abundance of immigrants to patch $j$ from all other patches is governed by where $d_{jl}$ is the geographic distance between patches $j$ and $l$, and $L$ (the strength of the exponential decrease in dispersal with distance), which is also drawn from a normal distribution for each species. The parameters used for $L$ are trophic level dependant and are show in @tbl-interaction_decay\n\n| Trophic level | $\\mu$ | $\\sigma$ |\n|---------------|:-----:|:--------:|\n| Plant         | 0.3   | 0.075    |\n| Herbivore     | 0.2   | 0.050    |\n| Carnivore     | 0.1   | 0.025    |\n\n: Parameters for the normal distributions used to determine the dispersal decay ($L$) for each species depending on its trophic level. {#tbl-interaction_decay}\n\n### Generating networks\n\nIn order to create a final community state the species are allowed to persist for a total of 2000 generations. These generations are broken down into three 'phases' the first is the 'proofing' phase where the environment is uniform throughout the landscape (meaning that all species are at their environmental optimum) for 500 generations. After this the environment is 'heated' incrementally until it reaches its 'final state', the environmental optimum of each species is also adjusted as the environmental values begin to change. This occurs over a period of 1 000 generations. The landscape is then held stable for a further 500 generations until an equilibrium is reached. The final state of the landscape is predetermined and is defined by the diamond-square algorithm (this produces fractals with variable spatial autocorrelation) which is generated using `NeutralLandscapes.jl` [@catchenEcoJuliaNeutralLandscapesJl2023], here we vary the degree of landscape heterogeneity by **TODO**.\n\n| Parameter     | Value |\n|---------------|:-----:|\n| $S$           | 100   |\n| $M$           | 26*26 |\n| $E_{initial}$ | 40    |\n| $A_{initial}$ | 0.01  |\n\n:Starting parameters for the model. {#tbl-model_params}\n\n### Spatial wombling\n\nBroadly speaking spatial wombling is an edge-detection algorithm which traverses a geographic area and defines this area in terms of the rate ($m$) and corresponding direction ($\\theta$) of change. This is done by using first-order partial derivative ($\\partial$) of the 'curvature' of the landscape as described by $f(x,y)$ (see @eq-womble). This essentially gives an indication how steep the gradient ($m$) is between neighbouring cells as well as the direction ($\\theta$) of the slope. \n\n$$\nm = \\sqrt{\\frac{\\partial f(x,y)}{\\partial x}^2 + \\frac{\\partial f(x,y)}{\\partial y}^2}\n$${#eq-womble}\n\nThe spatial wombling analyses were done using `SpatialBoundaries.jl` [@strydomSpatialBoundariesJlEdge2023]. The documentation provides a more detailed breakdown of the underlying methodology.\n\n## Conclusion\n\n## References {.unnumbered}\n\n::: {#refs}\n:::\n:::\n\n",
    "supporting": [
      "index_files/figure-docx"
    ],
    "filters": []
  }
}